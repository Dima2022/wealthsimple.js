{
  "name": "wealthsimple_api",
  "version": "1.0",
  "description": "_IntroductionWelcome_to_the_Wealthsimple_API_reference_Wealthsimple_API_provides_the_basic_building_blocks_for_creating_and_funding_investment_accounts_as_well_as_retrieving_account_values_and_transaction_data_The_API_is_built_around_REST_conventions_and_is_designed_to_have_predictable_resource_oriented_endpoints__Keep_reading_below_for_more_information_on_each_specific_call_Note__The_API_is_currently_in_the_Request_For_Comments__RFC_phase_and_is_not_yet_ready_for_public_consumption__Many_endpoints_have_not_yet_been_implemented_and_will_return_501_Not_Yet_Implemented_status_code___The_API_is_currently_focused_on_read_only_operations__We_will_eventually_expand_it_to_allow_for_creatingupdatingdeleting_resources__API_hostshttpsapi_sandbox_wealthsimple_com__Sandboxhttpsapi_production_wealthsimple_com__ProductionThe_Sandbox_environment_is_unrestricted_and_should_be_used_for_all_testing__When_youre_getting_ready_to_launch_into_Production_please_request_Production_API_access_by_reaching_out_to_a_hrefmailtoapi_supportwealthsimple_comAPI_supporta__AuthenticationAll_resources_within_the_API_require_authentication_via_standard_OAuth_2_grant_flows_The_Wealthsimple_API_supports_client_credentials_authorization_code_and_password_grant_types__Using_password_is_strongly_discouraged_and_should_be_reserved_for_special_circumstances_such_as_creating_a_new_user__immediately_authenticating_as_them_More_information_about_OAuth_2_grant_flows_can_be_found_in__Section_4_of_the_OAuth_2_RFC_httpstools_ietf_orghtmlrfc6749section_4__UserlessApplication_only_AuthenticationFor_all_non_resource_owner_specific_endpoints_where_you_do_not_need_to_act_on_users_behalf_you_can_choose_to_authenticate_only_using_your_application_credentials__Request_an_access_tokenjsonPOST_httpsapi_sandbox_wealthsimple_comv1oauthtoken__client_id_YOUR_CLIENT_ID__client_secret_YOUR_CLIENT_SECRET__grant_type_client_credentialsWe_also_support_client_application_authentication_via_the_Authorization_header__The_format_is_HTTP_Basic_authentication_with_the_value_being_a_base64_encoding_of_YOUR_CLIENT_IDYOUR_CLIENT_SECRET_POST_httpsapi_sandbox_wealthsimple_comv1oauthtokenAuthorization_Basic_czZCaGRSa3F0MzpnWDFmQmF0M2JWContent_Type_applicationx_www_form_urlencoded_Example_responsejson__access_token_de6780bc506a0446309bd9362820ba8aed28aa506c71eedbe1c5c4f9dd350e54__token_type_bearer__expires_in_7200__created_at_1500123132_Using_the_tokenYou_can_now_access_protected_anonymoususerless_level_API_endpoints_by_passing_the_token_in_the_headers_like_sojsonHeadersAuthroization_Bearer_ACCESS_TOKEN_Authenticating_as_a_User_in_your_Application__Resource_OwnerFor_any_action_where_you_need_to_act_on_a_users_behalf_you_can_go_through_the_authorization_code_or_password_grant_flow_to_obtain_an_access_token_associated_with_a_resource_owner__Most_of_our_endpoints_are_designed_to_be_called_by_a_user_While_the_password_grant_flow_is_supported_it_is_recommended_you_authenticate_using_authorization_code__If_you_must_use_password_we_strongly_discourage_you_storing_the_users_password_even_if_encrypted__There_are_severe_security_implications_by_doing_so__Access_Token_via_User_Authorization_Obtain_User_Authorization_ApprovalYour_OAuth_application_must_redirect_the_user_to_the_authorization_endpoint__It_will_inform_the_user_your_application_wishes_to_gain_access_to_their_account__If_they_approve_access_the_user_will_be_redirected_to_your_applications_YOUR_CALLBACK_URI_with_the_authorization_code_The_YOUR_CALLBACK_URI_for_your_application_is_defined_ahead_of_time_when_your_credentials_were_issued_and_the_requests_redirect_uri_must_match_whats_been_configured_Note_If_a_user_has_previously_authorized_your_application_the_prompt_will_be_skipped_and_the_user_is_redirected_with_the_code_automatically_Below_is_the_URL_your_application_must_direct_the_user_toGET_httpsstaging_wealthsimple_comauthorizeclient_idYOUR_CLIENT_ID____redirect_uriYOUR_CALLBACK_URI____stateYOUR_CSRF_TOKEN____response_typecodeNote_For_production_the_URL_is_httpsmy_wealthsimple_comauthorizeThe_state_parameter_is_optional_but_recommended_to_guard_against_CSRF_attacks__It_is_a_random_value_chosen_by_your_application_to_maintain_state_between_the_request_and_callback__It_ensures_the_callback_the_application_receives_is_the_one_initiated_by_your_request__Example_ResponseUser_is_presented_our_authorization_page_for_approval__Since_we_use_a_single_page_application_it_will_redirect_to_where_the_app_livesHTTP1_1_302_FoundLocation_httpsstaging_wealthsimple_comappauthorizeclient_idYOUR_CLIENT_ID____redirect_uriYOUR_CALLBACK_URI____stateYOUR_CSRF_TOKEN____response_typecodeIf_they_have_an_active_Wealthsimple_session_theyll_be_displayed_the_prompt_otherwise_theyll_be_presented_with_our_login_page_first_Once_they_approve_access_they_will_be_redirected_back_to_your_appHTTP1_1_302_FoundLocation_YOUR_CALLBACK_URIcode6309bd71eedaa59362820babc506a0448aed28678006cdebe1c5c4f9dd350e54stateYOUR_CSRF_TOKEN_Example_Response__Previously_ApprovedUser_is_immediately_redirected_back_to_your_app_no_prompt_required_no_single_page_application_loading_HTTP1_1_302_FoundLocation_YOUR_CALLBACK_URIcode6309bd71eedaa59362820babc506a0448aed28678006cdebe1c5c4f9dd350e54stateYOUR_CSRF_TOKEN_Example_Response__User_Denies_AccessThe_API_will_still_redirect_to_your_application_but_with_error_set__You_can_use_this_to_gracefully_inform_the_user_why_you_need_authorizationHTTP1_1_302_FoundLocation_YOUR_CALLBACK_URIerroraccess_deniederror_descriptionTheresourceownerorauthorizationserverdeniedtherequest_state1234_Exchange_Authorization_Code_for_Access_TokenThe_application_upon_receiving_the_authorization_code_from_the_callback_in_the_authorization_step_should_post_to_the_token_endpoint_to_exchange_it_for_a_long_lived_access_tokenPOST_httpsapi_sandbox_wealthsimple_comv1oauthtoken__grant_type_authorization_code__client_id_YOUR_CLIENT_ID__client_secret_YOUR_CLIENT_SECRET__redirect_uri__YOUR_CALLBACK_URI__code_6309bd71eedaa59362820babc506a0448aed28678006cdebe1c5c4f9dd350e54The_application_must_authenticate_itself_with_its_client_secret_and_pass_the_code_parameter_received_prior__Example_responsejson__access_token_de6780bc506a0446309bd9362820ba8aed28aa506c71eedbe1c5c4f9dd350e54__token_type_bearer__expires_in_7200__created_at_1500123132_Access_Token_via_User_CredentialsjsonPOST_httpsapi_sandbox_wealthsimple_comv1oauthtoken__grant_type_password__client_id_YOUR_CLIENT_ID__client_secret_YOUR_CLIENT_SECRET__username_USERNAME_OF_USER__password_PASSWORD_OF_USEROr_alternatively_you_can_use_HTTP_Basic_to_authenticate_your_application_client_as_described_in_the_application_authentication_sectionjsonPOST_httpsapi_sandbox_wealthsimple_comv1oauthtokenAuthorization_Basic_czZCaGRSa3F0MzpnWDFmQmF0M2JW__grant_type_password__username_USERNAME_OF_USER__password_PASSWORD_OF_USERWe_expect_you_identify_your_client_application_during_the_password_grant_flow_so_we_properly_enforce_which_users_can_authenticate_through_your_application__Example_responsejson__access_token_de6780bc506a0446309bd9362820ba8aed28aa506c71eedbe1c5c4f9dd350e54__token_type_bearer__expires_in_7200__created_at_1500123132_Users_with_Two_Factor_AuthenticationSome_users_may_have_enabled__Two_Factor_Authentication_httpsen_wikipedia_orgwikiMulti_factor_authentication__2FA_for_additional_security__We_currently_support_two_methods_of_2FA_mobile_SMS_codes_and_mobile_authenticator_apps_like__Google_Authenticator_httpsplay_google_comstoreappsdetailsidcom_google_android_apps_authenticator2hlen__When_authenticating_with_password_for_a_user_with_2FA_enabled_the_endpoint_will_fail_with_a_401_Unauthorized_even_if_you_provided_the_correct_username__password__At_first_glance_this_appears_indistinguishable_from_a_response_when_an_invalid_username_or_password_is_provided_In_order_to_maintain_OAuth_2_spec_we_set_the_X_Wealthsimple_OTP_response_header_so_your_application_can_determine_if_a_2FA_code__OTP_is_required_or_if_its_just_bad_credentials__In_this_scenario_your_application_should_prompt_the_user_for_their_OTP_code_and_replay_your_original_password_request_with_the_header_X_Wealthsimple_OTP_set_to_the_value_of_the_OTP_given_by_the_user_The_structure_of_the_response_X_Wealthsimple_OTP_header_is_semicolon_delimited_and_is_comprised_of_3_parts_the_message_the_2FA_method_the_user_is_using_and_the_last_4_digits_of_their_phone__if_applicable__The_method_can_be_either_app_or_sms_currently_and_you_can_use_this_to_gracefully_tell_the_user_what_do_to_get_their_OTP_codeX_Wealthsimple_OTP_MESSAGE_methodMETHOD_digitsDIGITS_MESSAGE_will_either_be_required_if_you_dont_send_the_OTP_code_or_invalid_if_the_OTP_provided_is_bad__METHOD_currently_will_either_be_app_for_Google_Authenticator_or_sms_if_theyre_using_a_mobile_device_DIGITS_will_be_the_users_last_4_digits_of_their_2FA_phone_number_on_file__This_field_may_not_be_present_if_user_is_using_app___Note___If_the_user_is_using_sms_they_will_automatically_receive_a_text_message_from_us_every_time_your_application_attempts_to_authenticate_without_providing_an_OTP_code__Authentication_Example_with_Two_Factor_AuthenticationRequestjsonPOST_httpsapi_sandbox_wealthsimple_comv1oauthtokenAuthorization_Basic_czZCaGRSa3F0MzpnWDFmQmF0M2JW__grant_type_password__username_USERNAME_OF_USER__password_PASSWORD_OF_USERResponseHTTP1_0_401_UnauthorizedX_Wealthsimple_OTP_required_methodsms_digits7375____error_invalid_grant____error_description_The_provided_authorization_grant_is_invalid_expired_revoked_does_not_match_the_redirection_URI_used_in_the_authorization_request_or_was_issued_to_another_client_At_this_point_the_user_will_have_received_an_OTP_code_on_their_mobile_device_which_they_provide_to_the_application_Subsequent_RequestjsonPOST_httpsapi_sandbox_wealthsimple_comv1oauthtokenAuthorization_Basic_czZCaGRSa3F0MzpnWDFmQmF0M2JWX_Wealthsimple_OTP_682932__grant_type_password__username_USERNAME_OF_USER__password_PASSWORD_OF_USERSubsequent_Responsejson__access_token_de6780bc506a0446309bd9362820ba8aed28aa506c71eedbe1c5c4f9dd350e54__token_type_bearer__expires_in_7200__created_at_1500123132_Using_the_Access_TokenYou_can_now_access_protected_user_centric_API_endpoints_by_passing_the_token_in_the_Authorization_headerAuthorization_Bearer_ACCESS_TOKEN_Viewing_your_Authentication_InfoWe_have_an_endpoint_you_can_call_should_your_application_need_more_information_about_the_authentication_its_been_granted__This_can_especially_be_the_case_for_when_authenticated_as_a_resource_owner_as_they_have_a_unique_identifier_you_can_use_GET_httpsapi_sandbox_wealthsimple_comv1oauthtokeninfoAuthorization_Bearer_ACCESS_TOKENIf_you_authenticated_as_your_application_and_not_as_a_user_then_resource_owner_id_will_be_set_to_null__Example_responsejson____token_________id_4655________resource_owner_id_user_n5vhwz7ti9q________application_id_24________token_de6780bc506a0446309bd9362820ba8aed28aa506c71eedbe1c5c4f9dd350e54________refresh_token_null________expires_in_7200________revoked_at_null________created_at_2017_08_17T213351_884Z________scopes_________previous_refresh_token_________application_family_id_dunder_mifflin_____PaginationMany_of_the_GET_APIs_that_return_a_collection_of_results_are_paginated_because_the_size_of_result_set_can_be_prohibitively_large___These_APIs_take_a_first_result_and_max_results_as_queryparameters___The_first_result_is_an_index_offset_and_the_max_results_determines_the_upper_limit_on_how_many_results_will_be_returned_per_call___If_the_API_has_additional_query_parametersit_is_important_to_resend_them_on_subsequent_page_requests_otherwise_the_result_set_will_differ___That_being_said_some_queries_are_inherently_unstable___For_example_if_you_query_for_Clientsand_the_sort_order_is_descending_if_the_creation_date_parameter_is_not_fixed_as_new_Clients_are_added_to_the_system_it_will_push_older_clients_into_subsequent_pages__ErrorsWealthsimple_uses_conventional_HTTP_response_codes_to_indicate_the_success_or_failure_of_an_API_request__In_general_codes_in_the_2xx_range_indicate_success_codes_in_the_4xx_range_indicate_an_error_that_failed_given_the_information_provided__e_g__a_required_parameter_was_omitted_missing_additional_information_etc__and_codes_in_the_5xx_range_indicate_an_error_with_Wealthsimples_servers_Not_all_errors_map_cleanly_onto_HTTP_response_codes_however__When_a_request_is_valid_but_does_not_complete_successfully_we_return_a_402_error_code_and_will_include_a_code_in_the_error_for_you_to_understand_why___Refer_to_the_list_of_codes_in_the_documentation_",
  "license": "Unlicense",
  "main": "src/index.js",
  "scripts": {
    "test": "./node_modules/mocha/bin/mocha --recursive"
  },
  "browser": {
    "fs": false
  },
  "dependencies": {
    "superagent": "3.5.2"
  },
  "devDependencies": {
    "mocha": "~2.3.4",
    "sinon": "1.17.3",
    "expect.js": "~0.3.1"
  }
}
